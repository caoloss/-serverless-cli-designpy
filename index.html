<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>serverless deploy</title>
    <link href="styles.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">

    <div class="bg-black text-red none xl:block shadow-lg">
        <div class="container mx-auto px-3 py-6 grid grid-cols-2 text-center font-bold text-sm uppercase leading-tight">
            <h1>current</h1>
            <h1>target</h1>
        </div>
    </div>

    <div id="app" class="container mx-auto px-3 my-16">

        <h2>Successful deployment</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal">
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">............................................</p>
                <p>Serverless: <span class="text-yellow">Stack update finished...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>Serverless: <span class="text-yellow">Removing old service artifacts from S3...</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">Monitor API requests via the Serverless Dashboard: https://slss.io/monitoring</p>
            </div>

            <div class="terminal">
                <p>Deploying myapp in stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>
                    <span class="text-red">✔</span> Service deployed to stack myapp-dev <span class="text-gray">(31s)</span>
                </p>
                <p>&nbsp;</p>
                <p class="text-gray">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-gray">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com/</p>
                <p>&nbsp;</p>
                <p class="text-gray">Monitor API requests via the Serverless Dashboard: https://slss.io/monitoring</p>
            </div>
        </div>

        <rating sample="Successful deployment"></rating>

        <h2>Ongoing deployment</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal">
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">............<span v-for="i in second">.</span></p>
            </div>

            <div class="terminal">
                <p>Deploying myapp in stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>
                    <span class="text-red">{{ frames[frame] }}</span>
                    <span v-if="step === 0">Packaging</span>
                    <span v-if="step === 1">Uploading deployment artifacts (222 KB)</span>
                    <span v-if="step === 2">Validating CloudFormation template</span>
                    <span v-if="step === 3">CloudFormation stack updating <span class="text-gray">(1/9)</span></span>
                    <span v-if="step === 4">CloudFormation stack updating <span class="text-gray">(3/9)</span></span>
                    <span v-if="step === 5">CloudFormation stack updating <span class="text-gray">(6/9)</span></span>
                    <span class="text-gray">({{ 20 + second }}s)</span>
                </p>
            </div>
        </div>

        <rating sample="Ongoing deployment"></rating>

        <h2>Deploying with Dashboard</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal">
                <p>Serverless: <span class="text-yellow">Using provider credentials, configured via dashboard: https://app.serverless.com/vulcan/apps/kilo/kilo-backend/prod/us-east-1/providers</span></p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">............................................</p>
                <p>Serverless: <span class="text-yellow">Stack update finished...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>Serverless: <span class="text-yellow">Removing old service artifacts from S3...</span></p>
                <p>Serverless: <span class="text-yellow">Publishing service to the Serverless Dashboard...</span></p>
                <p>Serverless: <span class="text-yellow">Successfully published your service to the Serverless Dashboard: https://app.serverless.com/vulcan/apps/kilo/kilo-backend/prod/us-east-1</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">Monitor API requests via the Serverless Dashboard: https://slss.io/monitoring</p>
            </div>
            <div class="terminal">
                <p>Deploying myapp in stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>
                    <span class="text-red">✔</span> Service deployed to stack myapp-dev <span class="text-gray">(31s)</span>
                </p>
                <p>&nbsp;</p>
                <p><span class="text-gray">dashboard:</span> https://slss.io/d/g8hd13e4</p>
                <p class="text-gray">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-gray">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com/</p>
            </div>
        </div>

        <rating sample="With Dashboard"></rating>

        <h2>API Gateway proxy configuration (e.g. ExpressJS app)</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div></div>
            <div class="terminal">
                <p>Deploying myapp in stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>
                    <span class="text-red">✔</span> Service deployed to stack myapp-dev <span class="text-gray">(31s)</span>
                </p>
                <p>&nbsp;</p>
                <p class="text-gray">functions:</p>
                <p class="ml-5">web: myapp-dev-web</p>
                <p><span class="text-gray">endpoint:</span> https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com</p>
                <p>&nbsp;</p>
                <p class="text-gray">Monitor API requests via the Serverless Dashboard: https://slss.io/monitoring</p>
            </div>
        </div>

        <rating sample="API Gateway proxy configuration"></rating>

        <h2>Deprecations</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal">
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">............................................</p>
                <p>Serverless: <span class="text-yellow">Stack update finished...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>Serverless: <span class="text-yellow">Removing old service artifacts from S3...</span></p>
                <p>Serverless: <span class="text-orange font-bold">Deprecation warnings:</span></p>
                <p>&nbsp;</p>
                <p class="text-orange font-bold">Detected ".env" files. In the next major release variables from ".env" files will be automatically loaded into the serverless build process. Set "useDotenv: true" to adopt that behavior now.</p>
                <p class="text-orange">More Info: https://www.serverless.com/framework/docs/deprecations/#LOAD_VARIABLES_FROM_ENV_FILES</p>
                <p>&nbsp;</p>
                <p class="text-orange font-bold">Support for "package.include" and "package.exclude" will be removed with next major release. Please use "package.patterns" instead</p>
                <p class="text-orange">More Info: https://www.serverless.com/framework/docs/deprecations/#NEW_PACKAGE_PATTERNS</p>
                <p>&nbsp;</p>
                <p class="text-gray">Monitor API requests via the Serverless Dashboard: https://slss.io/monitoring</p>
            </div>
            <div>
                <div class="terminal">
                    <p>Deploying myapp in stage dev <span class="text-gray">(us-east-1)</span></p>
                    <p>&nbsp;</p>
                    <p>
                        <span class="text-red">✔</span> Service deployed to stack myapp-dev <span class="text-gray">(31s)</span>
                    </p>
                    <p>&nbsp;</p>
                    <p class="text-gray">functions:</p>
                    <p class="ml-5">publisher: myapp-dev-publisher</p>
                    <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                    <p class="text-gray">endpoints:</p>
                    <p class="ml-5">GET - https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com/</p>
                    <p>&nbsp;</p>
                    <p class="text-gray">2 deprecations found: run the same command with '--debug' for more details</p>
                    <p>&nbsp;</p>
                    <p class="text-gray">Monitor API requests via the Serverless Dashboard: https://slss.io/monitoring</p>
                </div>
                <div class="terminal">
                    <p>Deploying myapp in stage dev <span class="text-gray">(us-east-1)</span></p>
                    <p>&nbsp;</p>
                    <p>
                        <span class="text-red">✔</span> Service deployed to stack myapp-dev <span class="text-gray">(31s)</span>
                    </p>
                    <p>&nbsp;</p>
                    <p class="text-gray">functions:</p>
                    <p class="ml-5">publisher: myapp-dev-publisher</p>
                    <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                    <p class="text-gray">endpoints:</p>
                    <p class="ml-5">GET - https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com/</p>
                    <p>&nbsp;</p>
                    <p>2 deprecations found:</p>
                    <p class="text-gray ml-5">Detected ".env" files. In the next major release variables from ".env" files will be automatically loaded into the serverless build process. Set "useDotenv: true" to adopt that behavior now.</p>
                    <p class="text-gray ml-5">More Info: https://www.serverless.com/framework/docs/deprecations/#LOAD_VARIABLES_FROM_ENV_FILES</p>
                    <p>&nbsp;</p>
                    <p class="text-gray ml-5">Support for "package.include" and "package.exclude" will be removed with next major release. Please use "package.patterns" instead</p>
                    <p class="text-gray ml-5">More Info: https://www.serverless.com/framework/docs/deprecations/#NEW_PACKAGE_PATTERNS</p>
                    <p>&nbsp;</p>
                    <p class="text-gray">Monitor API requests via the Serverless Dashboard: https://slss.io/monitoring</p>
                </div>
            </div>
        </div>

        <rating sample="Deprecations"></rating>

        <h2>Error</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal">
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">......</p>
                <p>Serverless: <span class="text-yellow">Operation failed!</span></p>
                <p>Serverless: <span class="text-yellow">View the full error output: https://us-east-1.console.aws.amazon.com/cloudformation/home?region=us-east-1#/stack/detail?stackId=arn%3Aaws%3Acloudformation%3Aus-east-1%3A416566615250%3Astack%2Fmyapp-dev%2F26eca400-e881-11eb-8b2d-0edef5a02865</span></p>
                <p>&nbsp;</p>
                <p class="text-yellow">&nbsp;Serverless Error ----------------------------------------</p>
                <p>&nbsp;</p>
                <p>&nbsp;&nbsp;An error occurred: HelloLambdaFunction - Resource handler returned message: "Value nodejs12.xa at 'runtime' failed to satisfy constraint: Member must satisfy enum value set: [nodejs12.x, python3.6, provided, nodejs14.x, ruby2.7, java11, go1.x, provided.al2, java8, java8.al2, dotnetcore3.1, python3.7, python3.8] or be a valid ARN</p>
                <p>&nbsp;</p>
                <p class="text-yellow ml-5">Get Support --------------------------------------------</p>
                <p class="ml-10"><span class="text-yellow">Docs:</span> &nbsp; &nbsp; docs.serverless.com</p>
                <p class="ml-10"><span class="text-yellow">Bugs:</span> &nbsp; &nbsp; github.com/serverless/serverless/issues</p>
                <p class="ml-10"><span class="text-yellow">Issues:</span> &nbsp; forum.serverless.com</p>
                <p>&nbsp;</p>
                <p class="text-yellow ml-5">Your Environment Information ---------------------------</p>
                <p class="ml-10 text-yellow whitespace-pre">Operating System:          darwin</p>
                <p class="ml-10 text-yellow whitespace-pre">Node Version:              15.14.0</p>
                <p class="ml-10 text-yellow whitespace-pre">Framework Version:         2.52.1</p>
                <p class="ml-10 text-yellow whitespace-pre">Plugin Version:            5.4.3</p>
                <p class="ml-10 text-yellow whitespace-pre">SDK Version:               4.2.5</p>
                <p class="ml-10 text-yellow whitespace-pre">Components Version:        3.14.0</p>
            </div>
            <div>
                <div class="terminal">
                    <p>Deploying myapp in stage dev <span class="text-gray">(us-east-1)</span></p>
                    <p>&nbsp;</p>
                    <p class="text-red">✖ Stack myapp-dev failed to deploy <span class="text-gray">(31s)</span></p>
                    <p>&nbsp;</p>
                    <pre class="text-gray">Environment:   darwin, node v15.14.0, framework v2.51.2, plugin v5.4.3, SDK v4.2.3
Documentation: docs.serverless.com
Support:       forum.serverless.com
Bugs:          github.com/serverless/serverless/issues</pre>
                    <p>&nbsp;</p>
                    <p class="text-red">Error:</p>
                    <p>JobsWorkerLambdaFunction - Resource handler returned message: "Value nodexx at 'runtime' failed to satisfy constraint: Member must satisfy enum value set: [java8, java11, nodejs10.x, nodejs12.x, python2.7, python3.6, python3.7, python3.8, dotnetcore2.1, go1.x, ruby2.5] or be a valid ARN.</p>
                    <p>&nbsp;</p>
                    <p>View the full error: https://us-east-1.console.aws.amazon.com/cloudformation/home?region=us-east-1#/stack/detail?stackId=arn%3Aaws%3Acloudformation%3Aus-east-1%3A416566615250%3Astack%2Flift-demo-queues-dev%2F8f271030-bbec-11eb-b27c-0a4ced5e22b5</p>
                </div>
                <div class="terminal">
                    <p>Deploying myapp in stage dev <span class="text-gray">(us-east-1)</span></p>
                    <p>&nbsp;</p>
                    <p class="text-red">✖ Stack myapp-dev failed to deploy <span class="text-gray">(31s)</span></p>
                    <p>&nbsp;</p>
                    <pre class="text-gray">Environment:   darwin, node v15.14.0, framework v2.51.2, plugin v5.4.3, SDK v4.2.3
Documentation: docs.serverless.com
Support:       forum.serverless.com
Bugs:          github.com/serverless/serverless/issues</pre>
                    <p>&nbsp;</p>
                    <p class="text-red">Error:</p>
                    <p>JobsWorkerLambdaFunction - Resource handler returned message: "Value nodexx at 'runtime' failed to satisfy constraint: Member must satisfy enum value set: [java8, java11, nodejs10.x, nodejs12.x, python2.7, python3.6, python3.7, python3.8, dotnetcore2.1, go1.x, ruby2.5] or be a valid ARN.</p>
                    <p>&nbsp;</p>
                    <p>View the full error: https://slss.io/d/g8hd13e4</p>
                </div>
            </div>
        </div>

        <rating sample="Error"></rating>

        <h2>Non-interactive deployment (no TTY, e.g. CI/CD)</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal">
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">............................................</p>
                <p>Serverless: <span class="text-yellow">Stack update finished...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>Serverless: <span class="text-yellow">Removing old service artifacts from S3...</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">Monitor API requests via the Serverless Dashboard: https://slss.io/monitoring</p>
            </div>

            <div class="terminal">
                <p>Deploying myapp in stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>Packaging</p>
                <p>Uploading deployment artifacts (222 KB)</p>
                <p>Validating CloudFormation template</p>
                <p>CloudFormation stack updating</p>
                <p>Service deployed to stack myapp-dev <span class="text-gray">(31s)</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-gray">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com/</p>
                <p>&nbsp;</p>
                <p class="text-gray">Monitor API requests via the Serverless Dashboard: https://slss.io/monitoring</p>
            </div>
        </div>

        <rating sample="Non-interactive deployment"></rating>

        <h2>Verbose deployment (<code class="text-lg">serverless deploy --verbose</code>)</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal">
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p>CloudFormation - <span class="text-yellow">UPDATE_IN_PROGRESS</span> - AWS::CloudFormation::Stack - myapp-dev</p>
                <p>CloudFormation - <span class="text-yellow">UPDATE_IN_PROGRESS</span> - AWS::Lambda::Function - HelloLambdaFunction</p>
                <p>CloudFormation - <span class="text-green">UPDATE_COMPLETE</span> - AWS::Lambda::Function - HelloLambdaFunction</p>
                <p>CloudFormation - <span class="text-yellow">CREATE_IN_PROGRESS</span> - AWS::Lambda::Version - HelloLambdaVersionxo7mVIrb5qrFjIjhs7GmYITXR7zJ5sH0JkO8kC2tb4s</p>
                <p>CloudFormation - <span class="text-yellow">CREATE_IN_PROGRESS</span> - AWS::Lambda::Version - HelloLambdaVersionxo7mVIrb5qrFjIjhs7GmYITXR7zJ5sH0JkO8kC2tb4s</p>
                <p>CloudFormation - <span class="text-green">CREATE_COMPLETE</span> - AWS::Lambda::Version - HelloLambdaVersionxo7mVIrb5qrFjIjhs7GmYITXR7zJ5sH0JkO8kC2tb4s</p>
                <p>CloudFormation - <span class="text-yellow">UPDATE_COMPLETE_CLEANUP_IN_PROGRESS</span> - AWS::CloudFormation::Stack - myapp-dev</p>
                <p>CloudFormation - DELETE_SKIPPED - AWS::Lambda::Version - HelloLambdaVersion8XeTw8dmeCepXt2KSltXLxzAn2z8aH4w7yi4yX9Aq4</p>
                <p>CloudFormation - <span class="text-green">UPDATE_COMPLETE</span> - AWS::CloudFormation::Stack - myapp-dev</p>
                <p>Serverless: <span class="text-yellow">Stack update finished...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>&nbsp;</p>
                <p class="text-yellow underline">Stack Outputs</p>
                <p><span class="text-yellow">HelloLambdaFunctionQualifiedArn:</span> arn:aws:lambda:us-east-1:416566615250:function:myapp-dev-hello:5</p>
                <p><span class="text-yellow">HttpApiId:</span> wd6m3kwta5</p>
                <p><span class="text-yellow">ServerlessDeploymentBucketName:</span> myapp-dev-serverlessdeploymentbucket-18gm15gzf8306</p>
                <p><span class="text-yellow">HttpApiUrl:</span> https://wd6m3kwta5.execute-api.us-east-1.amazonaws.com</p>
                <p>&nbsp;</p>
                <p>Serverless: <span class="text-yellow">Removing old service artifacts from S3...</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">Monitor API requests via the Serverless Dashboard: https://slss.io/monitoring</p>
            </div>

            <div class="terminal">
                <p>Deploying myapp in stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>Packaging</p>
                <p>Uploading deployment artifacts (222 KB)</p>
                <p>Validating CloudFormation template</p>
                <p>CloudFormation stack updating</p>
                <div class="text-gray">
                <p>&nbsp; UPDATE_IN_PROGRESS - AWS::CloudFormation::Stack - myapp-dev</p>
                <p>&nbsp; UPDATE_IN_PROGRESS - AWS::Lambda::Function - HelloLambdaFunction</p>
                <p>&nbsp; UPDATE_COMPLETE - AWS::Lambda::Function - HelloLambdaFunction</p>
                <p>&nbsp; CREATE_IN_PROGRESS - AWS::Lambda::Version - HelloLambdaVersionxo7mVIrb5qrFjIjhs7GmYITXR7zJ5sH0JkO8kC2tb4s</p>
                <p>&nbsp; CREATE_IN_PROGRESS - AWS::Lambda::Version - HelloLambdaVersionxo7mVIrb5qrFjIjhs7GmYITXR7zJ5sH0JkO8kC2tb4s</p>
                <p>&nbsp; CREATE_COMPLETE - AWS::Lambda::Version - HelloLambdaVersionxo7mVIrb5qrFjIjhs7GmYITXR7zJ5sH0JkO8kC2tb4s</p>
                <p>&nbsp; UPDATE_COMPLETE_CLEANUP_IN_PROGRESS - AWS::CloudFormation::Stack - myapp-dev</p>
                <p>&nbsp; DELETE_SKIPPED - AWS::Lambda::Version - HelloLambdaVersion8XeTw8dmeCepXt2KSltXLxzAn2z8aH4w7yi4yX9Aq4</p>
                <p>&nbsp; UPDATE_COMPLETE - AWS::CloudFormation::Stack - myapp-dev</p>
                </div>
                <p>Service deployed to stack myapp-dev <span class="text-gray">(31s)</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-gray">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com/</p>
                <p>&nbsp;</p>
                <p class="text-gray">Stack outputs:</p>
                <p>&nbsp; HelloLambdaFunctionQualifiedArn: arn:aws:lambda:us-east-1:416566615250:function:myapp-dev-hello:5</p>
                <p>&nbsp; HttpApiId: wd6m3kwta5</p>
                <p>&nbsp; ServerlessDeploymentBucketName: myapp-dev-serverlessdeploymentbucket-18gm15gzf8306</p>
                <p>&nbsp; HttpApiUrl: https://wd6m3kwta5.execute-api.us-east-1.amazonaws.com</p>
                <p>&nbsp;</p>
                <p class="text-gray">Monitor API requests via the Serverless Dashboard: https://slss.io/monitoring</p>
            </div>
        </div>

        <rating sample="Verbose deployment"></rating>

        <h2>With plugins (warmer, webpack, storage and domain manager)</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal">
                <p>Serverless: <span class="text-yellow">Running "serverless" installed locally (in service node_modules)</span></p>
                <p>Serverless: <span class="text-yellow">WarmUp: Creating warmer "officeHoursWarmer" to warm up 9 functions:</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-login</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-logout</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-providerAuth</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-providerLink</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-providerRefresh</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userCreate</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userDelete</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userRead</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userUpdate</span></p>
                <p>Serverless: <span class="text-yellow">WarmUp: Creating warmer "outOfOfficeHoursWarmer" to warm up 9 functions:</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-login</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-logout</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-providerAuth</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-providerLink</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-providerRefresh</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userCreate</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userDelete</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userRead</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userUpdate</span></p>
                <p>Serverless: <span class="text-yellow">Bundling with Webpack...</span></p>
                <pre>assets by path src/functions/ 349 KiB
  assets by path src/functions/user/ 42 KiB
    asset src/functions/user/create/handler.js 10.5 KiB [emitted] [minimized] (name: src/functions/user/create/handler) 1 related asset
    asset src/functions/user/update/handler.js 10.5 KiB [emitted] [minimized] (name: src/functions/user/update/handler) 1 related asset
    asset src/functions/user/read/handler.js 10.5 KiB [emitted] [minimized] (name: src/functions/user/read/handler) 1 related asset
    asset src/functions/user/delete/handler.js 10.5 KiB [emitted] [minimized] (name: src/functions/user/delete/handler) 1 related asset
  asset src/functions/refresh/handler.js 94.1 KiB [emitted] [minimized] (name: src/functions/refresh/handler) 1 related asset
  asset src/functions/auth/handler.js 94.1 KiB [emitted] [minimized] (name: src/functions/auth/handler) 1 related asset
  asset src/functions/link/handler.js 94.1 KiB [emitted] [minimized] (name: src/functions/link/handler) 1 related asset
  asset src/functions/logout/handler.js 10.4 KiB [emitted] [minimized] (name: src/functions/logout/handler) 1 related asset
  asset src/functions/login/handler.js 10.4 KiB [emitted] [minimized] (name: src/functions/login/handler) 1 related asset
  asset src/functions/admin/randomise/handler.js 3.57 KiB [emitted] [minimized] (name: src/functions/admin/randomise/handler) 1 related asset
assets by path .warmup/ 5.46 KiB
  asset .warmup/outOfOfficeHoursWarmer/index.js 2.73 KiB [emitted] [minimized] (name: .warmup/outOfOfficeHoursWarmer/index) 1 related asset
  asset .warmup/officeHoursWarmer/index.js 2.73 KiB [emitted] [minimized] (name: .warmup/officeHoursWarmer/index) 1 related asset
runtime modules 9.15 KiB 40 modules
orphan modules 11 bytes [orphan] 1 module
built modules 198 KiB [built]
  modules by path ./src/ 190 KiB
    modules by path ./src/libs/ 174 KiB 16 modules
    modules by path ./src/functions/ 6.31 KiB 4 modules
    modules by path ./src/util/*.ts 7.65 KiB 10 modules
    modules by path ./src/middleware/*.ts 1.34 KiB 4 modules
    ./src/resolvers/api-gateway.ts 280 bytes [built] [code generated]
  modules by path ./.warmup/ 7.5 KiB
    ./.warmup/officeHoursWarmer/index.js 3.75 KiB [built] [code generated]
    ./.warmup/outOfOfficeHoursWarmer/index.js 3.75 KiB [built] [code generated]
  modules by path external "@middy/ 84 bytes
    external "@middy/core" 42 bytes [built] [code generated]
    external "@middy/http-json-body-parser" 42 bytes [built] [code generated]

WARNING in ./src/libs/user.ts 403:0-42
export 'UserData' (reexported as 'UserData') was not found in '@util/types' (possible exports: )
 @ ./src/functions/login/handler.ts 2:0-30 8:20-30

WARNING in ./src/libs/user.ts 403:0-42
export 'UserSerialised' (reexported as 'UserSerialised') was not found in '@util/types' (possible exports: )
 @ ./src/functions/login/handler.ts 2:0-30 8:20-30

webpack compiled with 2 warnings in 3341 ms
(node:67778) [DEP_WEBPACK_CHUNK_MODULES_ITERABLE] DeprecationWarning: Chunk.modulesIterable: Use new ChunkGraph API
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:67778) [DEP_WEBPACK_MODULE_ISSUER] DeprecationWarning: Module.issuer: Use new ModuleGraph API</pre>
                <p>Serverless: <span class="text-yellow">Package lock found - Using locked versions</span></p>
                <p>Serverless: <span class="text-yellow">Packing external modules: @middy/core@1.5.2, @middy/http-json-body-parser@1.5.2, @sentry/serverless@6.6.0, @vulcancreative/serverless-storage@1.1.3, aws-sdk@2.884.0, source-map-support@0.5.19, bcryptjs@2.4.3, jsonwebtoken@8.5.1, uuid@3.3.2, validator@13.5.2, node-fetch@2.6.1</span></p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless Storage: Storage already exists</p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p>Serverless: <span class="text-yellow">Stack update finished...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="ml-5">warmUpPluginOfficeHoursWarmer: myapp-dev-warmup-plugin-officeHoursWarmer</p>
                <p class="ml-5">warmUpPluginOutOfOfficeHoursWarmer: myapp-dev-warmup-plugin-outOfOfficeHoursWarmer</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>Serverless Domain Manager: Info: Found apiId: r0oxfy319i for backend.kilo.ai</p>
                <p>Serverless Domain Manager: Info: Updated API mapping from '' to '(none)' for backend.kilo.ai</p>
                <p>Serverless Domain Manager: Summary: Distribution Domain Name</p>
                <p>Serverless Domain Manager:    Domain Name: backend.kilo.ai</p>
                <p>Serverless Domain Manager:    Target Domain: d-s7juq9wqf0.execute-api.us-east-1.amazonaws.com</p>
                <p>Serverless Domain Manager:    Hosted Zone Id: Z1UJRXOUMOOFQ8</p>
                <p>Serverless: <span class="text-yellow">WarmUp: Prewarming up you functions using warmer "officeHoursWarmer".</span></p>
                <p>Serverless: <span class="text-yellow">WarmUp: Warmer "officeHoursWarmer" successfully prewarmed your functions.</span></p>
                <p>Serverless: <span class="text-yellow">Removing old service artifacts from S3...</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">Monitor API requests via the Serverless Dashboard: https://slss.io/monitoring</p>
            </div>

            <div>
                <div class="terminal sticky top-0">
                    <p>Deploying myapp in stage dev <span class="text-gray">(us-east-1)</span></p>
                    <p>&nbsp;</p>
                    <p class="text-gray">/* Note: some spinner steps are detailed below for clarity */</p>
                    <p><span class="text-red">⠋</span> [Webpack] Bundling with Webpack</p>
                    <p><span class="text-red">⠋</span> [Webpack] Packing external modules</p>
                    <p><span class="text-red">⠋</span> Packaging</p>
                    <p><span class="text-red">⠋</span> ...</p>
                    <p><span class="text-red">⠋</span> CloudFormation stack updating (9/9)</p>
                    <p><span class="text-red">⠋</span> [Domain Manager] Updating API mapping from '' to '(none)' for backend.kilo.ai</p>
                    <p><span class="text-red">⠋</span> [WarmUp] Warming using the "officeHoursWarmer" warmer</p>
                    <p><span class="text-red">✔</span> Service deployed to stack myapp-dev <span class="text-gray">(31s)</span></p>
                    <p>&nbsp;</p>
                    <p class="text-gray">functions:</p>
                    <p class="ml-5">publisher: myapp-dev-publisher</p>
                    <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                    <p class="ml-5">warmUpPluginOfficeHoursWarmer: myapp-dev-warmup-plugin-officeHoursWarmer</p>
                    <p class="ml-5">warmUpPluginOutOfOfficeHoursWarmer: myapp-dev-warmup-plugin-outOfOfficeHoursWarmer</p>
                    <p class="text-gray">endpoints:</p>
                    <p class="ml-5">GET - https://3fr81y9fpd.execute-api.us-east-1.amazonaws.com/</p>
                    <p class="text-gray">warmup plugin:</p>
                    <p class="ml-5">- officeHoursWarmer</p>
                    <p class="ml-5">- outOfOfficeHoursWarmer</p>
                    <p class="text-gray">domain manager:</p>
                    <p class="ml-5">domain name: backend.kilo.ai</p>
                    <p class="ml-5">target domain: d-s7juq9wqf0.execute-api.us-east-1.amazonaws.com</p>
                    <p class="ml-5">hosted zone id: Z1UJRXOUMOOFQ8</p>
                    <p>&nbsp;</p>
                    <p class="text-gray">Monitor API requests via the Serverless Dashboard: https://slss.io/monitoring</p>
                </div>
            </div>
        </div>

        <rating sample="With plugins"></rating>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@3"></script>
    <script>
        const app = Vue.createApp({
            data: () => ({
                step: 0,
                second: 0,
                frames: ['⠋', '⠙', '⠹', '⠸', '⠼', '⠴', '⠦', '⠧', '⠇', '⠏'],
                frame: 0,
                showFeedback: null,
            }),
            mounted() {
                setInterval(() => {
                    this.step = (this.step + 1) % 6;
                }, 3000);
                setInterval(() => {
                    this.second = (this.second + 1) % 18;
                }, 1000);
                setInterval(() => {
                    this.frame = (this.frame + 1) % this.frames.length;
                }, 100);
            },
            methods: {
                rate(sample, rating) {
                    console.log(sample);
                    console.log(rating);
                    this.showFeedback = sample;
                }
            }
        });

        app.component('rating', {
            props: ['sample'],
            data: () => ({
                showFeedback: false,
                showThanks: false,
                rating: null,
                textFeedback: '',
            }),
            template: `
                <div class="py-4">
                <div v-if="!showFeedback && !showThanks" class="text-3xl text-center">
                    <button @click="rate(1)" type="button" class="px-6 py-3 hover:scale-150 transform transition transition-all duration-500">👍️</button>
                    <button @click="rate(-1)" type="button" class="px-6 py-3 hover:scale-150 transform transition transition-all duration-500">👎️</button>
                </div>
                <form v-if="showFeedback" @submit.prevent="submit" class="mx-auto max-w-sm clear-both">
                    <textarea v-model="textFeedback" rows="3" class="px-4 py-2 w-full rounded border" placeholder="Optional extra feedback"></textarea>
                    <button type="submit" class="float-right text-sm px-5 py-2 rounded bg-red text-white">Send feedback</button>
                </form>
                <div v-if="showThanks" class="mx-auto max-w-sm clear-both">
                    <p class="mb-1 text-center">Thank you for the feedback!</p>
                </div>
                </div>`,
            methods: {
                rate(rating) {
                    console.log(this.sample);
                    console.log(rating);
                    this.rating = rating;
                    this.showFeedback = true;
                },
                submit() {
                    const body = {
                        sample: this.sample,
                        rating: this.rating,
                        feedback: this.textFeedback,
                    };
                    console.log(body);
                    this.showThanks = true;
                    fetch('https://authentic-app-31gu2.cloud.serverless.com/feedback', {
                        method: 'POST',
                        headers: {
                            'Accept': 'application/json',
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(body),
                    })
                    // Reset
                    this.rating = null;
                    this.showFeedback = false;
                }
            }
        })

        app.mount('#app');
    </script>

</body>
</html>
